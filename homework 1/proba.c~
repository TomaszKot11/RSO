




int read_wrapper(int socketfd, void* buffer, size_t size){
	size_t total_read = 0, total_left = size;
	char* buffer_pointer = (char*)buffer;

	while(total_left > 0) {
		size_t current_read = read(socketfd, buffer_pointer, total_left); 
		
		//TODO: insert proper error handling
		if(current_read <= 0){
			//error while reading
			if(current_read < 0) {
				perror("Read error!");
				break;			
			}

		} else {
			total_read += current_read;
			total_left -= current_read;
			buffer_pointer += current_read;
		}
	}
	
	
	return total_read;
}



int write_wrappper(int socketfd, void* buffer, size_t size) {
	size_t total_written = 0, total_left = size; 
	char* buffer_pointer = (char*)buffer;
	
	while(total_left > 0) {
		size_t current_written = write(socketfd, buffer_pointer, total_left);
		
		//TODO: chagne this 
		if(current_written <= 0) {
			// error while writting
			if(current_written < 0) {
				perror("Write error!");
				break;			
			}
		} else { 
			total_writtn += current_written;
			total_left -= current_written; 
			buffer_pointer += current_written;		
		}
		
	}

	return total_written;
}


